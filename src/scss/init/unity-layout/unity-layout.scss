@import "../../init";


@mixin unity-layout($values) {
  @if type-of($values) == "list" {
    @if (length($values) == 2) {
      $value-1: nth($values, 1);
      $value-2: nth($values, 2);

      @if ($value-1 > $value-2) {
        .content-sidebar-wrap {
          width: 100%;
        }

        #content {
          width: $value-1;
        }

        #sidebar-first {
          width: $value-2;
        }
      }
      @else {
        .content-sidebar-wrap {
          width: $value-2;
        }

        #content {
          width: 100%;
        }

        #sidebar-second {
          width: $value-1;
        }
      }
    }
    @else if (length($values) == 3) {
      $value-1: nth($values, 1);
      $value-2: nth($values, 2);
      $value-3: nth($values, 3);

      $gap: (100 - ($value-1 + $value-2 + $value-3)) / 2;

      $value-4: $value-1 + $value-2 + $gap;
      $value-1: strip-unit($value-1);
      $value-2: strip-unit($value-2);
      $value-4: strip-unit($value-4);

      $new-value-1: round(percentage($value-1 / $value-4));
      $new-value-2: round(percentage($value-2 / $value-4));

      .content-sidebar-wrap {
        width: $value-4 * 1%;
      }

      #content {
        width: $new-value-2;
      }

      #sidebar-first {
        width: $new-value-1;
      }

      #sidebar-second {
        width: $value-3;
      }
    }
  }
}
